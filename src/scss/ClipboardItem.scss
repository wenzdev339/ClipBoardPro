// ClipboardItem.scss - Theme Compatible with Improved Layout
.clipboard-item {
  background: var(--bg-secondary);
  border: none;
  border-radius: var(--radius-md);
  transition: all var(--transition-normal);
  display: flex;
  flex-direction: column;
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-md);
  
  &:hover {
    background: var(--bg-tertiary);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }
  
  // Type-specific top border accent - REMOVED
  // &::before {
  //   content: '';
  //   position: absolute;
  //   top: 0;
  //   left: 0;
  //   right: 0;
  //   height: 3px;
  //   background: var(--type-color);
  //   border-radius: var(--radius-md) var(--radius-md) 0 0;
  // }
  
  // Grid View Styles
  &.grid {
    padding: var(--spacing-md);
    gap: var(--spacing-sm);
    min-height: 140px;
    
    @media (max-width: 768px) {
      padding: var(--spacing-sm);
      min-height: 120px;
    }
    
    @media (max-width: 480px) {
      padding: var(--spacing-sm);
      min-height: 100px;
    }
    
    .item-number {
      position: absolute;
      top: var(--spacing-xs);
      right: var(--spacing-xs);
      background: var(--bg-elevated);
      color: var(--text-muted);
      font-size: 9px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: var(--radius-sm);
      font-family: var(--font-family-mono);
      backdrop-filter: blur(10px);
      z-index: 2;
      
      @media (max-width: 520px) {
        font-size: 8px;
        padding: 1px 4px;
        top: 6px;
        right: 6px;
      }
    }
    
    .item-header {
      .type-indicator {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        margin-bottom: var(--spacing-xs);
        
        .type-icon {
          width: 28px;
          height: 28px;
          background: var(--type-color);
          color: white;
          border-radius: var(--radius-sm);
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: var(--shadow-md);
          flex-shrink: 0;
          
          @media (max-width: 520px) {
            width: 24px;
            height: 24px;
          }
        }
        
        .type-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
          min-width: 0;
          flex: 1;
          
          .type-label {
            font-size: var(--font-size-xs);
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.2;
            
            @media (max-width: 520px) {
              font-size: 10px;
            }
          }
          
          .timestamp {
            font-size: 9px;
            color: var(--text-muted);
            font-weight: 500;
            font-family: var(--font-family-mono);
            line-height: 1.2;
            
            @media (max-width: 520px) {
              font-size: 8px;
            }
          }
        }
      }
    }
    
    .item-content {
      flex: 1;
      min-height: 50px;
      
      @media (max-width: 520px) {
        min-height: 35px;
      }
    
      .text-preview {
        p {
          font-size: var(--font-size-sm);
          color: var(--text-primary);
          line-height: var(--line-height-relaxed);
          margin: 0;
          word-break: break-word;
          overflow-wrap: break-word;
          display: -webkit-box;
          -webkit-line-clamp: 3;
          -webkit-box-orient: vertical;
          overflow: hidden;
          
          @media (max-width: 520px) {
            font-size: var(--font-size-xs);
            -webkit-line-clamp: 2;
          }
        }
      }
    
      .code-preview {
        background: var(--bg-primary);
        border: none;
        border-radius: var(--radius-sm);
        overflow: hidden;
        box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.5);
        
        // Theme specific adjustments
        [data-theme="light"] & {
          box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        pre {
          margin: 0;
          padding: var(--spacing-sm);
          font-size: 10px;
          line-height: var(--line-height-relaxed);
          overflow: hidden;
          
          @media (max-width: 520px) {
            padding: var(--spacing-xs);
            font-size: 9px;
          }
          
          code {
            color: var(--text-primary);
            font-family: var(--font-family-mono);
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            
            @media (max-width: 520px) {
              -webkit-line-clamp: 2;
            }
          }
        }
      }
    
      .image-preview {
        background: var(--bg-primary);
        border: none;
        border-radius: var(--radius-sm);
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 60px;
        max-height: 90px;
        box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.5);
        
        // Theme specific adjustments
        [data-theme="light"] & {
          box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        @media (max-width: 520px) {
          min-height: 45px;
          max-height: 60px;
        }
        
        img {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
          border-radius: var(--radius-sm);
        }
      }
    }
    
    .item-actions {
      display: flex;
      gap: var(--spacing-xs);
      padding-top: var(--spacing-sm);
      border-top: 1px solid var(--border-primary);
      
      @media (max-width: 520px) {
        padding-top: var(--spacing-xs);
      }
      
      .action-btn {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: var(--spacing-xs);
        padding: var(--spacing-xs);
        background: var(--bg-elevated);
        border: none;
        border-radius: var(--radius-sm);
        color: var(--text-muted);
        font-size: 10px;
        font-weight: 500;
        transition: all var(--transition-normal);
        min-height: 32px;
        backdrop-filter: blur(10px);
        
        @media (max-width: 520px) {
          min-height: 28px;
          font-size: 9px;
        }
      
        .btn-label {
          font-weight: 500;
          
          @media (max-width: 520px) {
            display: none;
          }
        }
        
        &:hover {
          background: var(--bg-tertiary);
          color: var(--text-primary);
          transform: translateY(-1px);
        }
        
        &.copy-btn {
          &:hover {
            background: var(--accent-muted);
            color: var(--accent-primary);
          }
          
          &.copied {
            background: rgba(34, 197, 94, 0.2);
            color: var(--success);
          }
        }
        
        &.edit-btn:hover {
          background: rgba(139, 92, 246, 0.2);
          color: #8b5cf6;
        }
        
        &.delete-btn:hover {
          background: rgba(239, 68, 68, 0.2);
          color: var(--error);
        }
      }
    }
  }
  
  // List View Styles
  &.list {
    padding: var(--spacing-sm) var(--spacing-md);
    flex-direction: row;
    align-items: center;
    gap: var(--spacing-md);
    min-height: 60px;
    
    @media (max-width: 480px) {
      padding: var(--spacing-xs) var(--spacing-sm);
      min-height: 52px;
    }
    
    // Type border on left for list view - REMOVED
    // &::before {
    //   width: 4px;
    //   height: 100%;
    //   top: 0;
    //   left: 0;
    //   right: auto;
    //   bottom: 0;
    //   border-radius: var(--radius-md) 0 0 var(--radius-md);
    // }
    
    .item-header {
      width: 100px;
      flex-shrink: 0;
      
      @media (max-width: 480px) {
        width: 80px;
      }
      
      .type-indicator {
        display: flex;
        align-items: center;
        gap: var(--spacing-xs);
        
        .type-icon {
          width: 24px;
          height: 24px;
          background: var(--type-color);
          color: white;
          border-radius: var(--radius-sm);
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
          box-shadow: var(--shadow-md);
          
          @media (max-width: 480px) {
            width: 20px;
            height: 20px;
          }
        }
        
        .type-info {
          min-width: 0;
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 1px;
          
          .type-label {
            font-size: var(--font-size-xs);
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.2;
            
            @media (max-width: 480px) {
              font-size: 10px;
            }
          }
          
          .timestamp {
            font-size: 8px;
            color: var(--text-muted);
            font-weight: 500;
            font-family: var(--font-family-mono);
            line-height: 1.2;
            
            @media (max-width: 480px) {
              font-size: 7px;
            }
          }
        }
      }
    }
    
    .item-content {
      flex: 1;
      min-width: 0;
      display: flex;
      align-items: center;
      
      .text-preview {
        width: 100%;
        
        p {
          font-size: var(--font-size-xs);
          color: var(--text-primary);
          line-height: 1.4;
          margin: 0;
          word-break: break-word;
          overflow-wrap: break-word;
          display: -webkit-box;
          -webkit-line-clamp: 1;
          -webkit-box-orient: vertical;
          overflow: hidden;
          
          @media (max-width: 480px) {
            font-size: 10px;
          }
        }
      }
      
      .code-preview {
        width: 100%;
        background: var(--bg-primary);
        border: none;
        border-radius: var(--radius-sm);
        overflow: hidden;
        box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.5);
        
        // Theme specific adjustments
        [data-theme="light"] & {
          box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        pre {
          margin: 0;
          padding: var(--spacing-xs);
          font-size: 10px;
          line-height: 1.3;
          overflow: hidden;
          
          @media (max-width: 480px) {
            font-size: 9px;
          }
          
          code {
            color: var(--text-primary);
            font-family: var(--font-family-mono);
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
          }
        }
      }
      
      .image-preview {
        background: var(--bg-primary);
        border: none;
        border-radius: var(--radius-sm);
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 32px;
        width: 42px;
        flex-shrink: 0;
        box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.5);
        
        // Theme specific adjustments
        [data-theme="light"] & {
          box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        @media (max-width: 480px) {
          height: 28px;
          width: 36px;
        }
        
        img {
          max-width: 100%;
          max-height: 100%;
          object-fit: cover;
        }
      }
    }
    
    .item-actions {
      display: flex;
      gap: var(--spacing-xs);
      align-items: center;
      flex-shrink: 0;
      margin-left: var(--spacing-md);
      
      @media (max-width: 480px) {
        margin-left: var(--spacing-sm);
      }
      
      .action-btn {
        height: 28px;
        width: 28px;
        padding: 0;
        background: var(--bg-elevated);
        border: none;
        border-radius: var(--radius-sm);
        color: var(--text-muted);
        transition: all var(--transition-normal);
        display: flex;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(10px);
        
        @media (max-width: 480px) {
          height: 24px;
          width: 24px;
        }
        
        &:hover {
          background: var(--bg-tertiary);
          color: var(--text-primary);
          transform: translateY(-1px);
        }
        
        &.copy-btn {
          &:hover {
            background: var(--accent-muted);
            color: var(--accent-primary);
          }
          
          &.copied {
            background: rgba(34, 197, 94, 0.2);
            color: var(--success);
          }
        }
        
        &.edit-btn:hover {
          background: rgba(139, 92, 246, 0.2);
          color: #8b5cf6;
        }
        
        &.delete-btn:hover {
          background: rgba(239, 68, 68, 0.2);
          color: var(--error);
        }
      }
    }
  }
  
  // Mobile Responsive for List View
  @media (max-width: 768px) {
    &.list {
      flex-direction: column;
      gap: var(--spacing-sm);
      align-items: stretch;
      min-height: auto;
      padding: var(--spacing-md);
      
      // Reset border for mobile - REMOVED
      // &::before {
      //   width: 100%;
      //   height: 3px;
      //   top: 0;
      //   left: 0;
      //   right: 0;
      //   bottom: auto;
      //   border-radius: var(--radius-md) var(--radius-md) 0 0;
      // }
      
      .item-header {
        width: 100%;
        
        .type-indicator {
          justify-content: space-between;
          align-items: center;
          
          .type-info {
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            flex-direction: row;
            
            .type-label, .timestamp {
              margin: 0;
            }
          }
        }
      }
      
      .item-content {
        width: 100%;
        
        .text-preview p,
        .code-preview code {
          -webkit-line-clamp: 2;
        }
      }
      
      .item-actions {
        margin-left: 0;
        justify-content: flex-end;
        
        .action-btn {
          width: auto;
          min-width: 32px;
          padding: 0 var(--spacing-xs);
          gap: var(--spacing-xs);
          
          .btn-label {
            display: inline;
          }
        }
      }
    }
  }
}